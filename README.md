![Python](https://img.shields.io/badge/python-3.11-blue)
![PyPI](https://img.shields.io/pypi/v/aiogram)
![License: GPL v2](https://img.shields.io/badge/License-GPL%20v2-blue.svg)

# Telegram Bot - –ú–æ—è —Å—Ç–∞—Ç—å—è –£–ö –†–§

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º "–ø—Ä–∏–≥–æ–≤–∞—Ä–∏–≤–∞–µ—Ç" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ —Å—Ç–∞—Ç—å–µ –£–≥–æ–ª–æ–≤–Ω–æ–≥–æ –∫–æ–¥–µ–∫—Å–∞ –†–§. –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –≤ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö, —Ç–∞–∫ –∏ –≤ –≥—Ä—É–ø–ø–∞—Ö, –∞ —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç inline-—Ä–µ–∂–∏–º.

<img src="https://i.imgur.com/2yWFUp9.jpeg" alt="–°–∫—Ä–∏–Ω—à–æ—Ç" width="200">

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìú **–°–ª—É—á–∞–π–Ω–∞—è —Å—Ç–∞—Ç—å—è –£–ö –†–§** - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ú–æ—è —Å—Ç–∞—Ç—å—è" –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç–∞—Ç—å—é
- üë• **–†–∞–±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö** - –±–æ—Ç —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—É –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö
- üîç **Inline-—Ä–µ–∂–∏–º** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ—Ç–∞ –≤ –ª—é–±–æ–º —á–∞—Ç–µ —á–µ—Ä–µ–∑ @username
- üîó **–£–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –±–æ—Ç —Å–æ–∑–¥–∞–µ—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- aiogram 3.x
- aiohttp
- python-dotenv

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/Ruslan-Isaev/MyArticleTGBot.git
cd MyArticleTGBot
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

3. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```env
BOT_TOKEN=your_bot_token_here
USE_WEBHOOK=false
WEBHOOK_HOST=https://yourdomain.com
WEB_SERVER_HOST=0.0.0.0
WEB_SERVER_PORT=8080
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –æ—Ç @BotFather (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `USE_WEBHOOK` - —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: `false` –¥–ª—è polling, `true` –¥–ª—è webhook
- `WEBHOOK_HOST` - –≤–∞—à –¥–æ–º–µ–Ω –¥–ª—è webhook (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ `USE_WEBHOOK=true`)
- `WEB_SERVER_HOST` - —Ö–æ—Å—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ `USE_WEBHOOK=true`. –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `127.0.0.1`)
- `WEB_SERVER_PORT` - –ø–æ—Ä—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏ `USE_WEBHOOK=true`. –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `8080`)

## –°–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

### 1. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Python (Polling)

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
python3 main.py
```

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd —Å–µ—Ä–≤–∏—Å

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Linux:

**–ó–∞–ø—É—Å–∫:**
```bash
./bot-service.sh start
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
./bot-service.sh stop
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç systemd –ø—Ä–æ—Ü–µ—Å—Å–æ–º.

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

**–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:**
```bash
docker build -t myartbot .
docker run -d --name myartbot -p 8443:8443 --env-file .env myartbot
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ webhook —É–∫–∞–∂–∏—Ç–µ –ø–æ—Ä—Ç 8443 –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `WEB_SERVER_PORT` –≤ `.env`

### 4. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

–î–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

```bash
docker-compose up -d
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
docker-compose down
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### –í –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã
3. –ù–∞–ø–∏—à–∏—Ç–µ "–ú–æ—è —Å—Ç–∞—Ç—å—è" –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–π —Å—Ç–∞—Ç—å–∏ –£–ö –†–§

### –í –≥—Ä—É–ø–ø–∞—Ö

–ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ú–æ—è —Å—Ç–∞—Ç—å—è"

### Inline-—Ä–µ–∂–∏–º

–í –ª—é–±–æ–º —á–∞—Ç–µ –≤–≤–µ–¥–∏—Ç–µ:
```
@myarticlefossbot –ú–æ—è —Å—Ç–∞—Ç—å—è 
```

–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç "–ú–æ—è —Å—Ç–∞—Ç—å—è" –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### Polling (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ë–æ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç Telegram API
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ–º–µ–Ω–∞

### Webhook
- Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ–º–µ–Ω —Å HTTPS
- –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `USE_WEBHOOK=true` –≤ `.env`

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Python. –í—Å–µ —Å–æ–±—ã—Ç–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏ –∏ —É—Ä–æ–≤–Ω—è–º–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏.

## Healthcheck

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ webhook-—Ä–µ–∂–∏–º–µ –¥–æ—Å—Ç—É–ø–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è:
- `GET /health`
- `GET /`

–û–±–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å—Ç–∞—Ç—É—Å "OK" –ø—Ä–∏ —Ä–∞–±–æ—Ç–∞—é—â–µ–º –±–æ—Ç–µ.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
